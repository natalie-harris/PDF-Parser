Test 1
Idea: This is simply the first documented run of parser 2.
Prompt 1: "You are a scientist extracting data from research papers about Spruce Budworm (SBW) infestations \
                            and outbreaks. You are to log every instance in which the text refers to a Spruce Budworm outbreak \
                            during any years and region. You must include the range of years and specific region data. The \
                            region must be locatable on a map. Be as specific as possible. General locations like 'study site' \
                            or 'tree stand #3' are not relevant. Include outbreaks whose existence is uncertain. Never include \
                            research citations from the text. It is of the utmost importance that you only output verbatim \
                            sentences from the text, and nothing else."
Prompt 2: "You are a computer analyzing a text for scientists on spruce budworm (SBW) outbreaks/infestations. \
                            You are to log every instance where the text mentions whether or not an outbreak/infestation \
                            occured during a specific year or range of years and at a specific or general region. Write every \
                            instance in the following format exactly: The location, then the year, whether there was or was \
                            not an outbreak/infestation (always a yes or no), and then a new line. This data must be in csv \
                            file format. Never include the header or any labels. If an outbreak lasts multiple years, write \
                            the 'year' feature as 'first_year-last_year'. There MUST be a dash in between the two years. The \
                            year section must have no alphabetic characters. For example, it cannot say 'approximately *year*' \
                            or 'unknown'. It is of the utmost importance that we have as many years and locations of data as \
                            possible. References to other authors and papers are irrelevant. Only log specific instances of \
                            SBW outbreaks. If the authors are uncertain of an outbreak's existence, the 'outbreak' column for \
                            that outbreak should be 'uncertain'"
Prompt 3: "You are a computer made to give scientists town names within an area. You will be given a location \
                            in North America. Your task is to give a town that belongs at that location to be used as a \
                            locality string for GEOLocate software. If the area is very remote, give the nearest town. Put \
                            it in csv format as the following: \"city, state, country\". It is of the utmost importance that \
                            you print only the one piece of data, and absolutely nothing else. You must output a city name, \
                            even if the given area is very large or very remote."
CSV File(s): Testing/testing_data/test1.csv
Analysis/Results: Reasonable results, but ~190 actual 1's predicted to be 0. ~40% data lost across the board after location \
                    matching
CM: (Top is predicted, left is actual)
Before LM:
    0   1
0  1100 48
1   190 600
After LM:
    0   1
0   440 46
1   110 350



Test 2:
Idea: Second stage prompt for performs rather poorly at getting specific location out of output from stage 1, even when desired \
        output is obvious. Attempt to modify prompt 2 to decrease data loss from LM

Prompt 1: "You are a scientist extracting data from research papers about Spruce Budworm (SBW) infestations \
                            and outbreaks. You are to log every instance in which the text refers to a Spruce Budworm outbreak \
                            during any years and region. You must include the range of years and specific region data. The \
                            region must be locatable on a map. Be as specific as possible. General locations like 'study site' \
                            or 'tree stand #3' are not relevant. Include outbreaks whose existence is uncertain. Never include \
                            research citations from the text. It is of the utmost importance that you only output verbatim \
                            sentences from the text, and nothing else."
Prompt 2: "You are a computer analyzing a text for scientists on spruce budworm (SBW) outbreaks/infestations. \
                            You are to log every instance where the text mentions whether or not an outbreak/infestation \
                            occured during a specific year or range of years and at a specific geographic location. Write every \
                            instance in the following format exactly: The geographic location, then the year, whether there was or was \
                            not an outbreak/infestation (always a yes or no), and then a new line. This data must be in csv \
                            file format. Never include the header or any labels. The geographic location must be something like a city, \
                            a county, a specific lake, or anything that is locatable on a map. \
                            If an outbreak lasts multiple years, write \
                            the 'year' feature as 'first_year-last_year'. There MUST be a dash in between the two years. The \
                            year section must have no alphabetic characters. For example, it cannot say 'approximately *year*' \
                            or 'unknown'. It is of the utmost importance that we have as many years and locations of data as \
                            possible. References to other authors and papers are irrelevant. Only log specific instances of \
                            SBW outbreaks. If the authors are uncertain of an outbreak's existence, the 'outbreak' column for \
                            that outbreak should be 'uncertain'"
Prompt 3: "You are a computer made to give scientists town names within an area. You will be given a location \
                            in North America. Your task is to give a town that belongs at that location to be used as a \
                            locality string for GEOLocate software. If the area is very remote, give the nearest town. Put \
                            it in csv format as the following: \"city, state, country\". It is of the utmost importance that \
                            you print only the one piece of data, and absolutely nothing else. You must output a city name, \
                            even if the given area is very large or very remote."

CSV Files:
Analysis/Results: Not much of an improvement.


Test 3:
Idea: AI Group 2 performed rather well with location data and poorly with outbreak readings. AI Group 6 performed 
    well with outbreak readings and poorly with location data. 

Prompt 0: "You are a list-maker making a comma-separated list of sources for research papers about spruce budworms. \
                            You are given an excerpt from the text and must determine where the data is coming from. Your possible list items are: \
                            Dendrochronological samples from tree cores, Dendrochronological samples from historical buildings, \
                            Pheromone traps, Aerial defoliation survey, Survey from insect laboratory, or Personal Communication with \
                            the Department of Lands and Forest representative. If the paper uses multiple sources, list each one separately, \
                            using commas as delimiters. If no information about the \
                            methods of data collection are given, simple output 'Unknown'. It is of the utmost importance that your output \
                            is a comma-separated list. Do not write headers or any additional information. Preface \
                            the information with 'Data collection method: '."
Prompt 1: "You are a scientist extracting data from research papers about Spruce Budworm (SBW) infestations \
                            and outbreaks. You are to log every instance in which the text refers to a Spruce Budworm outbreak \
                            during any years and region. You must include the range of years, the specific region data, and the \
                            source of the researcher's data. Valid sources are: Dendrochronological samples from tree cores, \
                            Dendrochronological samples from historical buildings, Pheromone traps, Aerial defoliation survey, \
                            Survey from insect laboratory, or Personal Communication with the Department of Lands and Forest \
                            representative. The \
                            region must be locatable on a map. Be as specific as possible. General locations like 'study site' \
                            or 'tree stand #3' are not relevant. Include outbreaks whose existence is uncertain. Never include \
                            research citations from the text. It is of the utmost importance that you only output verbatim \
                            sentences from the text, and nothing else."
Prompt 2: "You are a computer analyzing a text for scientists on spruce budworm (SBW) outbreaks/infestations. \
                            You are to log every instance where the text mentions whether or not an outbreak/infestation \
                            occured during a specific year or range of years and at a specific geographic location. Write every \
                            instance in the following format exactly: The geographic location, then the year, whether there was or was \
                            not an outbreak/infestation (always a yes or no), the source that the researchers used for the data, and then \
                            a new line. This data must be in csv \
                            file format. Never include the header or any labels. Valid sources are: Dendrochronological samples from tree cores, \
                            Dendrochronological samples from historical buildings, Pheromone traps, Aerial defoliation survey, \
                            Survey from insect laboratory, or Personal Communication with the Department of Lands and Forest \
                            representative. The geographic location must be something like a city, \
                            a county, a specific lake, or anything that is locatable on a map. If an outbreak lasts multiple years, \
                            write the 'year' feature as 'first_year-last_year'. There MUST be a dash in between the two years. The \
                            year section must have no alphabetic characters. For example, it cannot say 'approximately *year*' \
                            or 'unknown'. It is of the utmost importance that we have as many years and locations of data as \
                            possible. References to other authors and papers are irrelevant. Only log specific instances of \
                            SBW outbreaks. If the authors are uncertain of an outbreak's existence, the 'outbreak' column for \
                            that outbreak should be 'uncertain'"                
Prompt 3: "You are a computer made to give scientists town names within an area. You will be given a location \
                            in North America. Your task is to give a town that belongs at that location to be used as a \
                            locality string for GEOLocate software. If the area is very remote, give the nearest town. Put \
                            it in csv format as the following: \"city, state, country\". It is of the utmost importance that \
                            you print only the one piece of data, and absolutely nothing else. You must output a city name, \
                            even if the given area is very large or very remote."

CSV Files: test3.csv

Test 4:
Idea: Different version of test 3 that asks for the sentences that provide evidence for the data. Getting individual sources for each piece of \
        data has not been working well.
Prompt 0: "You are a list-maker making a comma-separated list of sources for research papers about spruce budworms. \
            You are given an excerpt from the text and must determine where the data is coming from. Your possible list items are: \
            Dendrochronological samples from tree cores, Dendrochronological samples from historical buildings, \
            Pheromone traps, Aerial defoliation survey, Survey from insect laboratory, or Personal Communication with \
            the Department of Lands and Forest representative. If the paper uses multiple sources, list each one separately, \
            using commas as delimiters. If no information about the \
            methods of data collection are given, simple output 'Unknown'. It is of the utmost importance that your output \
            is a comma-separated list. Do not write headers or any additional information. Preface \
            the information with 'Data collection method: '."
Prompt 1: "You are a scientist extracting data from research papers about Spruce Budworm (SBW) infestations \
            and outbreaks. You are to log every instance in which the text refers to a Spruce Budworm outbreak \
            during any years and region. You must include the range of years and the specific region of the data. The \
            region must be locatable on a map. Be as specific as possible. General locations like 'study site' \
            or 'tree stand #3' are not relevant. Include outbreaks whose existence is uncertain. Never include \
            research citations from the text. It is of the utmost importance that you only output verbatim \
            sentences from the text, and nothing else."
Prompt 2: "You are a computer analyzing a text for scientists on spruce budworm (SBW) outbreaks/infestations. \
            You are to log every instance where the text mentions whether or not an outbreak/infestation \
            occured during a specific year or range of years and at a specific geographic location. Write every \
            instance in the following format exactly: The geographic location, then the year, whether there was or was \
            not an outbreak/infestation (always a yes or no), a sentence from the excerpt that gives evidence for the \
            outbreak, geographic location, and years (with NO commas), and then a new line. This data must be in csv \
            file format. Never include the header or any labels. The geographic location must be something like a city, \
            a county, a specific lake, or anything that is locatable on a map. If an outbreak lasts multiple years, \
            write the 'year' feature as 'first_year-last_year'. There MUST be a dash in between the two years. The \
            year section must have no alphabetic characters. For example, it cannot say 'approximately *year*' \
            or 'unknown'. It is of the utmost importance that we have as many years and locations of data as \
            possible. References to other authors and papers are irrelevant. Only log specific instances of \
            SBW outbreaks. If the authors are uncertain of an outbreak's existence, the 'outbreak' column for \
            that outbreak should be 'uncertain'"
Prompt 3: "You are a computer made to give scientists town names within an area. You will be given a location \
            in North America. Your task is to give a town that belongs at that location to be used as a \
            locality string for GEOLocate software. If the area is very remote, give the nearest town. Put \
            it in csv format as the following: \"city, state, country\". It is of the utmost importance that \
            you print only the one piece of data, and absolutely nothing else. You must output a city name, \
            even if the given area is very large or very remote."


Test 5:
Idea: I think that much of the actual-1/predicted-0 error is because the parser is filling in zeros between individual dates for outbreaks (where the
        paper mentions an outbreak starting in a year, but not the rest of the years.) Therefore, I am going to try to change postprocessing so that it only 
        fills in zeros between ranges of years, and not if one of the endpoints is an individual year.
Prompts: All prompts are the same as test 3

Test 6:
Idea: I need to add information about the source of the data, so I am adding the instruction to include a sentence describing the source at the end of each entry

Test 7:
Idea: I want to test the parser out on multiple different papers sourced from PMC, and check each one's validity individually.
        Paper 1: PMC6168141
        Paper 1 Results: No data found. There was no specific data in the paper to justify creating data
        Paper 2: PMC8932078
        Paper 2 Results: No data found
        Paper 3: Accurate dating of spruce budworm infestation using tree growth anomalies

Prompt 0: "You are a list-maker making a comma-separated list of sources for research papers about spruce budworms. \
            You are given an excerpt from the text and must determine where the data is coming from. Your possible list items are: \
            Dendrochronological samples from tree cores, Dendrochronological samples from historical buildings, \
            Pheromone traps, Aerial defoliation survey, Survey from insect laboratory, or Personal Communication with \
            the Department of Lands and Forest representative. If the paper uses multiple sources, list each one separately, \
            using commas as delimiters. If no information about the \
            methods of data collection are given, simple output 'Unknown'. It is of the utmost importance that your output \
            is a comma-separated list. Do not write headers or any additional information. Preface \
            the information with 'Data collection method: '."
Prompt 1: "You are a scientist extracting data from research papers about Spruce Budworm (SBW) infestations \
            and outbreaks. You are to log every instance in which the text refers to a Spruce Budworm outbreak \
            during any years and region. You must include the range of years and the specific region of the data. The \
            region must be locatable on a map. Be as specific as possible. General locations like 'study site' \
            or 'tree stand #3' are not relevant. Include outbreaks whose existence is uncertain. Never include \
            research citations from the text. It is of the utmost importance that you only output verbatim \
            sentences from the text, and nothing else."
Prompt 2: "You are a computer analyzing a text for scientists on spruce budworm (SBW) outbreaks/infestations. \
            You are to log every instance where the text mentions whether or not an outbreak/infestation \
            occured during a specific year or range of years and at a specific geographic location. Write every \
            instance in the following format exactly: The geographic location, then the year, whether there was or was \
            not an outbreak/infestation (always a yes or no), a sentence from the excerpt that gives evidence for the \
            outbreak, geographic location, and years (with NO commas), and then a new line. This data must be in csv \
            file format. Never include the header or any labels. The geographic location must be something like a city, \
            a county, a specific lake, or anything that is locatable on a map. If an outbreak lasts multiple years, \
            write the 'year' feature as 'first_year-last_year'. There MUST be a dash in between the two years. The \
            year section must have no alphabetic characters. For example, it cannot say 'approximately *year*' \
            or 'unknown'. It is of the utmost importance that we have as many years and locations of data as \
            possible. References to other authors and papers are irrelevant. Only log specific instances of \
            SBW outbreaks. If the authors are uncertain of an outbreak's existence, the 'outbreak' column for \
            that outbreak should be 'uncertain'"
Prompt 3: "You are a computer made to give scientists town names within an area. You will be given a location \
            in North America. Your task is to give a town that belongs at that location to be used as a \
            locality string for GEOLocate software. If the area is very remote, give the nearest town. Put \
            it in csv format as the following: \"city, state, country\". It is of the utmost importance that \
            you print only the one piece of data, and absolutely nothing else. You must output a city name, \
            even if the given area is very large or very remote."

Test 8:
Idea: I am testing the parser on the papers that Michael sent me.
        Paper 1: J Quaternary Science - 2011 - Sonia - Long‐term spruce budworm outbreak dynamics reconstructed from subfossil trees.pdf
        Paper 2: Simard et al. 2006.pdf

Prompt 0: "You are a list-maker making a comma-separated list of sources for research papers about spruce budworms. \
                You are given an excerpt from the text and must determine where the data is coming from. Your possible list items are: \
                Dendrochronological samples from tree cores, Dendrochronological samples from historical buildings, \
                Pheromone traps, Aerial defoliation survey, Survey from insect laboratory, or Personal Communication with \
                the Department of Lands and Forest representative. If the paper uses multiple sources, list each one separately, \
                using commas as delimiters. If no information about the \
                methods of data collection are given, simple output 'Unknown'. It is of the utmost importance that your output \
                is a comma-separated list. Do not write headers or any additional information. Preface \
                the information with 'Data collection method: '."
Prompt 1: "You are a scientist extracting data from research papers about Spruce Budworm (SBW) infestations \
                and outbreaks. You are to log every instance in which the text refers to a Spruce Budworm outbreak \
                during any years and region. You must include the range of years and the specific region of the data. The \
                region must be locatable on a map. Be as specific as possible. General locations like 'study site' \
                or 'tree stand #3' are not relevant. Include outbreaks whose existence is uncertain. Never include \
                research citations from the text. It is of the utmost importance that you only output verbatim \
                sentences from the text, and nothing else."
Prompt 2: "You are a computer analyzing a text for scientists on spruce budworm (SBW) outbreaks/infestations. \
                You are to log every instance where the text mentions whether or not an outbreak/infestation \
                occured during a specific year or range of years and at a specific geographic location. Write every \
                instance in the following format exactly: The geographic location, then the year, whether there was or was \
                not an outbreak/infestation (always a yes or no), a sentence from the excerpt that gives evidence for the \
                outbreak, geographic location, and years (with NO commas), and then a new line. This data must be in csv \
                file format. Never include the header or any labels. The geographic location must be something like a city, \
                a county, a specific lake, or anything that is locatable on a map. If an outbreak lasts multiple years, \
                write the 'year' feature as 'first_year-last_year'. There MUST be a dash in between the two years. The \
                year section must have no alphabetic characters. For example, it cannot say 'approximately *year*' \
                or 'unknown'. It is of the utmost importance that we have as many years and locations of data as \
                possible. References to other authors and papers are irrelevant. Only log specific instances of \
                SBW outbreaks. If the authors are uncertain of an outbreak's existence, the 'outbreak' column for \
                that outbreak should be 'uncertain'"
Prompt 3: "You are a computer made to give scientists town names within an area. You will be given a location \
                in North America. Your task is to give a town that belongs at that location to be used as a \
                locality string for GEOLocate software. If the area is very remote, give the nearest town. Put \
                it in csv format as the following: \"city, state, country\". It is of the utmost importance that \
                you print only the one piece of data, and absolutely nothing else. You must output a city name, \
                even if the given area is very large or very remote."

Test 11:
Idea: Testing the parser on 10 or 11 new papers I took from Scopus, Web of Science, Michael
Prompt 0: "You are a list-maker making a comma-separated list of sources for research papers about spruce budworms. \
                You are given an excerpt from the text and must determine where the data is coming from. Your possible list items are: \
                Dendrochronological samples from tree cores, Dendrochronological samples from historical buildings, \
                Pheromone traps, Aerial defoliation survey, Survey from insect laboratory, or Personal Communication with \
                the Department of Lands and Forest representative. If the paper uses multiple sources, list each one separately, \
                using commas as delimiters. If no information about the \
                methods of data collection are given, simple output 'Unknown'. It is of the utmost importance that your output \
                is a comma-separated list. Do not write headers or any additional information. Preface \
                the information with 'Data collection method: '."
Prompt 1: "You are a scientist extracting data from research papers about Spruce Budworm (SBW) infestations \
                and outbreaks. You are to log every instance in which the text refers to a Spruce Budworm outbreak \
                during any years and region. You must include the range of years and the specific region of the data. The \
                region must be locatable on a map. Be as specific as possible. General locations like 'study site' \
                or 'tree stand #3' are not relevant. Include outbreaks whose existence is uncertain. Never include \
                research citations from the text. It is of the utmost importance that you only output verbatim \
                sentences from the text, and nothing else."
Prompt 2: "You are a computer analyzing a text for scientists on spruce budworm (SBW) outbreaks/infestations. \
                You are to log every instance where the text mentions whether or not an outbreak/infestation \
                occured during a specific year or range of years and at a specific geographic location. Write every \
                instance in the following format exactly: The geographic location, then the year, whether there was or was \
                not an outbreak/infestation (always a yes or no), a reliability score estimating the reliability of the data \
                between 0 and 100%, and then a new line. This data must be in csv \
                file format. Never include the header or any labels. The geographic location must be something like a city, \
                a county, a specific lake, or anything that is locatable on a map. If an outbreak lasts multiple years, \
                write the 'year' feature as 'first_year-last_year'. There MUST be a dash in between the two years. The \
                year section must have no alphabetic characters. For example, it cannot say 'approximately *year*' \
                or 'unknown'. It is of the utmost importance that we have as many years and locations of data as \
                possible. References to other authors and papers are irrelevant. Only log specific instances of \
                SBW outbreaks. If the authors are uncertain of an outbreak's existence, the 'outbreak' column for \
                that outbreak should be 'uncertain'"
Prompt 3: "You are a computer made to give scientists town names within an area. You will be given a location \
                in North America. Your task is to give a town that belongs at that location to be used as a \
                locality string for GEOLocate software. If the area is very remote, give the nearest town. Put \
                it in csv format as the following: \"city, state, country\". It is of the utmost importance that \
                you print only the one piece of data, and absolutely nothing else. You must output a city name, \
                even if the given area is very large or very remote."

Test 13:
        Idea: Finally got access to ChatGPT 4 API. Doing one try since its so expensive.
system_message_stage_0 = "You are a list-maker making a comma-separated list of sources for research papers about spruce budworms. \
                You are given an excerpt from the text and must determine where the data is coming from. Your possible list items are: \
                Dendrochronological samples from tree cores, Dendrochronological samples from historical buildings, \
                Pheromone traps, Aerial defoliation survey, Survey from insect laboratory, or Personal Communication with \
                the Department of Lands and Forest representative. If the paper uses multiple sources, list each one separately, \
                using commas as delimiters. If no information about the \
                methods of data collection are given, simple output 'Unknown'. It is of the utmost importance that your output \
                is a comma-separated list. Do not write headers or any additional information. Preface \
                the information with 'Data collection method: '."
system_message_stage_1 = "You are a scientist extracting data from research papers about Spruce Budworm (SBW) infestations \
                and outbreaks. You are to log every instance in which the text refers to a Spruce Budworm outbreak \
                during any years and region. You must include the range of years and the specific region of the data. The \
                region must be locatable on a map. Be as specific as possible. General locations like 'study site' \
                or 'tree stand #3' are not relevant. Include outbreaks whose existence is uncertain. Never include \
                research citations from the text. It is of the utmost importance that you only output verbatim \
                sentences from the text, and nothing else."
system_message_stage_2 = "You are a computer analyzing a text for scientists on spruce budworm (SBW) outbreaks/infestations. \  
                You are to log every instance where the text mentions whether or not an outbreak/infestation \
                occured during a specific year or range of years and at a specific geographic location. Write every \
                instance in the following format exactly: The geographic location, then the year, whether there was or was \
                not an outbreak/infestation (always a yes or no), a reliability score estimating the reliability of the data \
                between 0 and 100%, and then a new line. This data must be in csv \
                file format. Never include the header or any labels. The geographic location must be something like a city, \
                a county, a specific lake, or anything that is locatable on a map. If an outbreak lasts multiple years, \
                write the 'year' feature as 'first_year-last_year'. There MUST be a dash in between the two years. The \
                year section must have no alphabetic characters. For example, it cannot say 'approximately *year*' \
                or 'unknown'. It is of the utmost importance that we have as many years and locations of data as \
                possible. References to other authors and papers are irrelevant. Only log specific instances of \
                SBW outbreaks. If the authors are uncertain of an outbreak's existence, the 'outbreak' column for \
                that outbreak should be 'uncertain'"
system_message_stage_3 = "You are a computer made to give scientists town names within an area. You will be given a location \
                in North America. Your task is to give a town that belongs at that location to be used as a \
                locality string for GEOLocate software. If the area is very remote, give the nearest town. Put \
                it in csv format as the following: \"city, state, country\". It is of the utmost importance that \
                you print only the one piece of data, and absolutely nothing else. You must output a city name, \
                even if the given area is very large or very remote."

Test 14:
Idea: First test of combining location finder/general location sub from tree parse with parser 2.
system_message_stage_0 = "You are a list-maker making a comma-separated list of sources for research papers about spruce budworms. \
                            You are given an excerpt from the text and must determine where the data is coming from. Your possible list items are: \
                            Dendrochronological samples from tree cores, Dendrochronological samples from historical buildings, \
                            Pheromone traps, Aerial defoliation survey, Survey from insect laboratory, or Personal Communication with \
                            the Department of Lands and Forest representative. If the paper uses multiple sources, list each one separately, \
                            using commas as delimiters. If no information about the \
                            methods of data collection are given, simple output 'Unknown'. It is of the utmost importance that your output \
                            is a comma-separated list. Do not write headers or any additional information. Preface \
                            the information with 'Data collection method: '."
system_message_stage_0b = "You are a scientist that is extracting the location of study sites from research papers about Spruce Budworm (SBW) outbreaks. You are given an excerpt from a text and must determine if the paper gives exact geographic coordinates of the study sites. You must output the geographic coordinates exactly how it is written, and nothing else. If you don't find the coordinates, output 'Unknown.' The coordinates MUST be numeric. Preface the information with 'Location: '. You must be concise because your output will be parsed as coordinates.\n\n"
system_message_stage_0c = "You are a classification engine that determines the format of geocoordinate data for researchers. You are given a coordinate pulled from a research paper and you must guess whether it is a bounding box, an individual coordinate in degrees/minutes/seconds, an individual point in decimal degrees, or an invalid/incomplete location (i.e. it is not a two-dimensional bounding box, a single location, or it is not numeric geocoordinates, just a place). Valid coordinates must include latitude and longitude. Your options are 'bounding box', 'degrees/minutes', 'degrees/minutes/seconds', 'decimal degrees', and 'invalid'. Your output must be one of these options and NOTHING ELSE.\n\n"
system_message_stage_0c_boundingbox = "You are a formatting machine that takes unformatted bounding box coordinates and puts them into a standardized format. You will put all bounding boxes into this format: degree1°N-degree2°N, degree1°W-degree2°W. Each degree may be just a degree, or a decimal degree, a coordinate in degrees/minutes/seconds, etc. Just output this data in the right format. Your output must be this format and NOTHING ELSE.\n\n"
system_message_stage_0c_dm = "You are a formatting machine that takes unformatted coordinates in degrees/minutes and puts them into a standardized format. You will put all bounding boxes into this format: degree1°minute1'N, degree2°minute2'W. Just output this data in the right format. Your output must be this format and NOTHING ELSE.\n\n"
system_message_stage_0c_dms = "You are a formatting machine that takes unformatted coordinates in degrees/minutes/seconds and puts them into a standardized format. You will put all bounding boxes into this format: degree1°minute1'second1\"N, degree2°minute2'second2\"W. Just output this data in the right format. Your output must be this format and NOTHING ELSE.\n\n"
system_message_stage_0c_dd = "You are a formatting machine that takes unformatted coordinates in decimal degrees and puts them into a standardized format. You will put all bounding boxes into this format: degree1.decimal1°N, degree2.decimal2°W. Just output this data in the right format. Your output must be this format and NOTHING ELSE.\n\n"
system_message_stage_0d = "You are a scientist that is extracting the location of study sites from research papers about Spruce Budworm (SBW) outbreaks. You are given an excerpt from a text and must determine where the study site is located. The location you output must encompass the entire study area and must be locatable on a map using the GeoPy geoservice. If the text gives exact coordinates, output those coordinates exactly and stop. Otherwise, output the location in the following format: Province/State/Municipality, Country. If the study area takes place in the northern/southern/western/eastern part or a specific lake/town/landmark in the municipality/province/state, be sure to include that info. If there is not data about the study area or you only know the country or continent it takes place in, simply print 'Unknown'. Preface the information with 'Location: '. Be concise because your output will be parsed as csv data.\n\n"
system_message_stage_1 = "You are a scientist extracting data from research papers about Spruce Budworm (SBW) infestations \
                            and outbreaks. You are to log every instance in which the text refers to a Spruce Budworm outbreak \
                            during any years and region. You must include the range of years and the specific region of the data. The \
                            region must be locatable on a map. Be as specific as possible. General locations like 'study site' \
                            or 'tree stand #3' are not relevant. Include outbreaks whose existence is uncertain. Never include \
                            research citations from the text. It is of the utmost importance that you only output verbatim \
                            sentences from the text, and nothing else."
system_message_stage_2 = "You are a computer analyzing a text for scientists on spruce budworm (SBW) outbreaks/infestations. \
                            You are to log every instance where the text mentions whether or not an outbreak/infestation \
                            occured during a specific year or range of years and at a specific geographic location. Write every \
                            instance in the following format exactly: The geographic location, then the year, whether there was or was \
                            not an outbreak/infestation (always a yes or no), a reliability score estimating the reliability of the data \
                            between 0 and 100%, and then a new line. This data must be in csv \
                            file format. Never include the header or any labels. The geographic location must be something like a city, \
                            a county, a specific lake, or anything that is locatable on a map. If an outbreak lasts multiple years, \
                            write the 'year' feature as 'first_year-last_year'. There MUST be a dash in between the two years. The \
                            year section must have no alphabetic characters. For example, it cannot say 'approximately *year*' \
                            or 'unknown'. It is of the utmost importance that we have as many years and locations of data as \
                            possible. References to other authors and papers are irrelevant. Only log specific instances of \
                            SBW outbreaks. If the authors are uncertain of an outbreak's existence, the 'outbreak' column for \
                            that outbreak should be 'uncertain'"
system_message_stage_3 = "You are a computer made to give scientists town names within an area. You will be given a location \
                            in North America. Your task is to give a town that belongs at that location to be used as a \
                            locality string for GEOLocate software. If the area is very remote, give the nearest town. Put \
                            it in csv format as the following: \"city, state, country\". It is of the utmost importance that \
                            you print only the one piece of data, and absolutely nothing else. You must output a city name, \
                            even if the given area is very large or very remote."

Test 15:
Idea: Same thing as Test 14, but without reliability scores. Also using chatgpt4
system_message_stage_0 = "You are a list-maker making a comma-separated list of sources for research papers about spruce budworms. \
                            You are given an excerpt from the text and must determine where the data is coming from. Your possible list items are: \
                            Dendrochronological samples from tree cores, Dendrochronological samples from historical buildings, \
                            Pheromone traps, Aerial defoliation survey, Survey from insect laboratory, or Personal Communication with \
                            the Department of Lands and Forest representative. If the paper uses multiple sources, list each one separately, \
                            using commas as delimiters. If no information about the \
                            methods of data collection are given, simple output 'Unknown'. It is of the utmost importance that your output \
                            is a comma-separated list. Do not write headers or any additional information. Preface \
                            the information with 'Data collection method: '."
system_message_stage_0b = "You are a scientist that is extracting the location of study sites from research papers about Spruce Budworm (SBW) outbreaks. You are given an excerpt from a text and must determine if the paper gives exact geographic coordinates of the study sites. You must output the geographic coordinates exactly how it is written, and nothing else. If you don't find the coordinates, output 'Unknown.' The coordinates MUST be numeric. Preface the information with 'Location: '. You must be concise because your output will be parsed as coordinates.\n\n"
system_message_stage_0c = "You are a classification engine that determines the format of geocoordinate data for researchers. You are given a coordinate pulled from a research paper and you must guess whether it is a bounding box, an individual coordinate in degrees/minutes/seconds, an individual point in decimal degrees, or an invalid/incomplete location (i.e. it is not a two-dimensional bounding box, a single location, or it is not numeric geocoordinates, just a place). Valid coordinates must include latitude and longitude. Your options are 'bounding box', 'degrees/minutes', 'degrees/minutes/seconds', 'decimal degrees', and 'invalid'. Your output must be one of these options and NOTHING ELSE.\n\n"
system_message_stage_0c_boundingbox = "You are a formatting machine that takes unformatted bounding box coordinates and puts them into a standardized format. You will put all bounding boxes into this format: degree1°N-degree2°N, degree1°W-degree2°W. Each degree may be just a degree, or a decimal degree, a coordinate in degrees/minutes/seconds, etc. Just output this data in the right format. Your output must be this format and NOTHING ELSE.\n\n"
system_message_stage_0c_dm = "You are a formatting machine that takes unformatted coordinates in degrees/minutes and puts them into a standardized format. You will put all bounding boxes into this format: degree1°minute1'N, degree2°minute2'W. Just output this data in the right format. Your output must be this format and NOTHING ELSE.\n\n"
system_message_stage_0c_dms = "You are a formatting machine that takes unformatted coordinates in degrees/minutes/seconds and puts them into a standardized format. You will put all bounding boxes into this format: degree1°minute1'second1\"N, degree2°minute2'second2\"W. Just output this data in the right format. Your output must be this format and NOTHING ELSE.\n\n"
system_message_stage_0c_dd = "You are a formatting machine that takes unformatted coordinates in decimal degrees and puts them into a standardized format. You will put all bounding boxes into this format: degree1.decimal1°N, degree2.decimal2°W. Just output this data in the right format. Your output must be this format and NOTHING ELSE.\n\n"
system_message_stage_0d = "You are a scientist that is extracting the location of study sites from research papers about Spruce Budworm (SBW) outbreaks. You are given an excerpt from a text and must determine where the study site is located. The location you output must encompass the entire study area and must be locatable on a map using the GeoPy geoservice. If the text gives exact coordinates, output those coordinates exactly and stop. Otherwise, output the location in the following format: Province/State/Municipality, Country. If the study area takes place in the northern/southern/western/eastern part or a specific lake/town/landmark in the municipality/province/state, be sure to include that info. If there is not data about the study area or you only know the country or continent it takes place in, simply print 'Unknown'. Preface the information with 'Location: '. Be concise because your output will be parsed as csv data.\n\n"
system_message_stage_1 = "You are a scientist extracting data from research papers about Spruce Budworm (SBW) infestations \
                            and outbreaks. You are to log every instance in which the text refers to a Spruce Budworm outbreak \
                            during any years and region. You must include the range of years and the specific region of the data. The \
                            region must be locatable on a map. Be as specific as possible. General locations like 'study site' \
                            or 'tree stand #3' are not relevant. Include outbreaks whose existence is uncertain. Never include \
                            research citations from the text. It is of the utmost importance that you only output verbatim \
                            sentences from the text, and nothing else."
system_message_stage_2 = "You are a computer analyzing a text for scientists on spruce budworm (SBW) outbreaks/infestations. \
                            You are to log every instance where the text mentions whether or not an outbreak/infestation \
                            occured during a specific year or range of years and at a specific geographic location. Write every \
                            instance in the following format exactly: The geographic location, then the year, whether there was or was \
                            not an outbreak/infestation (always a yes or no), and then a new line. This data must be in csv \
                            file format. Never include the header or any labels. The geographic location must be something like a city, \
                            a county, a specific lake, or anything that is locatable on a map. If an outbreak lasts multiple years, \
                            write the 'year' feature as 'first_year-last_year'. There MUST be a dash in between the two years. The \
                            year section must have no alphabetic characters. For example, it cannot say 'approximately *year*' \
                            or 'unknown'. It is of the utmost importance that we have as many years and locations of data as \
                            possible. References to other authors and papers are irrelevant. Only log specific instances of \
                            SBW outbreaks. If the authors are uncertain of an outbreak's existence, the 'outbreak' column for \
                            that outbreak should be 'uncertain'"
system_message_stage_3 = "You are a computer made to give scientists town names within an area. You will be given a location \
                            in North America. Your task is to give a town that belongs at that location to be used as a \
                            locality string for GEOLocate software. If the area is very remote, give the nearest town. Put \
                            it in csv format as the following: \"city, state, country\". It is of the utmost importance that \
                            you print only the one piece of data, and absolutely nothing else. You must output a city name, \
                            even if the given area is very large or very remote."

Test 16:
Exact same test as test 15 but only using gpt 3.5 turbo. Used for comparing data between gpt3.5 and gpt4

Test 19:
Testing using same system messages but including few-shot examples before primary parsing procedure
stage_1_few_shot_examples = [
    {"role": "user", "content": "We reconstructed the SBW outbreak history at the northern limit of the temperate forest in southern Quebec using dendrochronological material from old buildings and five old-growth stands. Nine potential outbreaks were identified (1976–1991, 1946–1959, 1915–1929, 1872–1903, 1807–1817, 1754–1765, 1706–1717, 1664–1670, and 1630–1638) with three additional uncertain outbreaks (1647–1661, 1606–1619, and 1564–1578)."},
    {"role": "assistant", "content": "-Outbreak: 1976-1991\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1946-1959\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1915-1929\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1872-1903\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1807-1817\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1754-1765\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1706-1717\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1664-1670\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1630-1638\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1647-1661 (uncertain)\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1606-1619 (uncertain)\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1564-1578 (uncertain)\n-Region: Northern limit of the temperate forest in southern Quebec"},
    {"role": "user", "content": "Earlier potential outbreaks were identified using dendro-\nchronological material from old buildings only. Three addi-\ntional and distinct growth reductions occurred between the\nbeginning of the 18th and the early 19th centuries in 1807–\n1817 (O5), 1754–1765 (O6), and 1706–1717 (O7) (Fig. 2). (Berguet 1954)"},
    {"role": "assistant", "content": "No specific instances of SBW outbreaks with geographic locations and years were mentioned in the text."},
    {"role": "user", "content": "Several points\n in the neighbourhood of Sioux Lookout and the\n eastern portion of Lac Seul show 1866 as the\n first year of suppression, indicating that the in-\n festation had its origin in this vicinity. Within\n this area, the first apparent year of suppression\n was as early as 1862 in two localities. However,\n in both these localities the white spruce trees\n sampled were very old and showed poor diameter\n growth for approximately the last 100 years, thus\nobscuring to some extent the initiation of suppres-\n sion caused by the spruce budworm (see data for\n Minnitaki Lake, Fig. 3). From this area of\n origin the infestation spread mostly westward un-\n til by 1870 and 1871 it reached points close to\n the Manitoba boundary."},
    {"role": "assistant", "content": "1. Region: Sioux Lookout and the eastern portion of Lac Seul\n  Years: 1862-1871\n"}
]
stage_2_few_shot_examples = [
        {"role": "user", "content": "Specific SBW Outbreaks:\n\n1. Outbreak: O1 (1905-1930)\n-Region: Eastern Quebec, east of the St. Lawrence River\n\n2. Outbreak: O2 (1935-1965)\n  -Region: Northern reach of southern Quebec\n\n3. Outbreak: O3 (1968-1988)\n-Region: Southwestern Quebec, along a southwest-northeast transect across central southern Quebec"},
        {"role": "assistant", "content": 'Stage 2:\n"Eastern Quebec, east of the St. Lawrence River", "1905-1930", "Yes"\n"Northern reach of southern Quebec", "1935-1965", "Yes"\n"Southwestern Quebec, along a southwest-northeast transect across central southern Quebec", "1968-1988", "Yes"'},
        {"role": "user", "content": "Stage 1:\n-Outbreak: 1976-1991\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1946-1959\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1915-1929\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1872-1903\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1807-1817\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1754-1765\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1706-1717\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1664-1670\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1630-1638\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1647-1661 (uncertain)\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1606-1619 (uncertain)\n-Region: Northern limit of the temperate forest in southern Quebec\n-Outbreak: 1564-1578 (uncertain)\n-Region: Northern limit of the temperate forest in southern Quebec"},
        {"role": "assistant", "content": '"Northern limit of the temperate forest in southern Quebec", "1976-1991", "Yes"\n"Northern limit of the temperate forest in southern Quebec", "1946-1959", "Yes"\n"Northern limit of the temperate forest in southern Quebec", "1915-1929", "Yes"\n"Northern limit of the temperate forest in southern Quebec", "1872-1903", "Yes"\n"Northern limit of the temperate forest in southern Quebec", "1807-1817", "Yes"\n"Northern limit of the temperate forest in southern Quebec", "1754-1765", "Yes"\n"Northern limit of the temperate forest in southern Quebec", "1706-1717", "Yes"\n"Northern limit of the temperate forest in southern Quebec", "1664-1670", "Yes"\n"Northern limit of the temperate forest in southern Quebec", "1630-1638", "Yes"\n"Northern limit of the temperate forest in southern Quebec", "1647-1661", "Uncertain"\n"Northern limit of the temperate forest in southern Quebec", "1606-1619", "Uncertain"\n"Northern limit of the temperate forest in southern Quebec", "1564-1578", "Uncertain"'},
        {"role": "user", "content": "Specific SBW outbreaks in specific years and locations mentioned in the text are as follows:\n\n1. Outbreak in 1989: Two epicenters were identified during this outbreak.\n2. Outbreak in 1991: Four epicenters were identified during this outbreak.\n3. Outbreak in 1996: One epicenter was identified during this outbreak.\n4. Outbreak in 2006: Four epicenters were identified during this outbreak.\n5. Outbreak in 2011: One epicenter was identified during this outbreak.\n\nPlease note that the specific locations of these epicenters were not provided in the text."},
        {"role": "assistant", "content": "No specific instances of SBW outbreaks with geographic locations and years were mentioned in the text."}
]